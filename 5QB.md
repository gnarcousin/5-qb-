<h1>서버</h1>
<h2>5.1 서버 저장소</h2>
다른 말로 원격(remote) 저장소라고 하며, 로컬 저장소의 코드를 복제한 복사본이라고 할 수 있다.
<h3>5.1.1 협업 저장소</h3>
점점 커지는 프로젝트 개발 규모에 맞춰 탄생한 협업 도구<br>
깃은 온/오프라인 환경을 모두 고려하여 분산형 모델을 선택함
<h3>5.1.2 연속된 작업</h3>
서버에 저장하는 것을 통해 다른 여러 컴퓨터에 코드를 동기화하고 연속된 작업 이어가기가 가능함<br>
서버 저장소는 여러 컴퓨터에 동일한 깃 저장소를 복제해주고, 작업한 결과물을 다시 서버로 통합해줌
<h3>5.1.3 새 멤버</h3>
새로운 멤버 참여시 지금까지 작업한 소스 코드의 마지막 버전을 공유해야 함.<br>
깃의 원격 저장소로 모든 구성원에게 코드의 최종 결과물 동기화가 가능

<h2>5.2 깃허브 서버 준비</h2>
<h3>5.2.1 깃허브</h3>
깃허브 = 대표적인 깃호스팅 서비스 (http://github.com)<br>
회원가입 > 이메일 주소 입력 > 본인 인증 과정 > 깃허브 서비스 이용
<h3>5.2.2 저장소 생성</h3>
공개용 저장소 생성 방법<br>
로그인 > 대시보드의 New 버튼이나 + > New repository 클릭 > 저장소를 생성할 소유자 선택 > Repository name에 저장소 이름 입력<br>
*한 소유자 내의 같은 저장소 이름은 중복하여 생성할 수 없음<br>

<h2>5.3 깃허브 연동 및 원격 등록</h2>
<h3>5.3.1 로컬 저장소</h3>
로컬 저장소를 원격 저장소에 연결하는 방법<br>
1. 새로운 로컬 저장소 생성 > 초기화 > 저장소의 소개 페이지 파일(REAMDE.md) 생성 > echo를 이용해 리다이렉션하여 소개 페이지 생성 > 추적 등록, 커밋<br>
2. 기존 저장소를 연결
<h3>5.3.2 프로토콜</h3>
깃은 기본적으로 Local, HTTP, SSH, Git 네 종류의 전송 방식을 지원함<br>
Local = 로컬 저장소를 서버로 이용할 때는 폴더 경로만 입력하면 됨<br>
<pre>
$ git remote add 원격저장소별칭 폴더경로
</pre>
HTTP = HTTP 방식의 프로토콜, 서버에 접속하려면 로그인 절차를 거쳐야 함<br>
SSH = 주소에 ssh://계정@주소 형식으로 프로토콜 타입을 지정해야 함<br>
공개키와 개인키로 나뉘는 인증서를 만들어서 사용. 공개키는 서버에 등록하고 개인키는 로컬에 저장함<br>
익명 접속 X<br>
Git = 깃의 데몬 서비스를 위한 전용 프로토콜 방식 SSH와 유사하지만 인증 시스템이 없음 > 보안에 취약함   

<h3>5.3.3 원격 저장소의 리모트 목록 관리</h3>   
remote를 이용하면 현재 연결된 원격 저장소 목록 확인이 가능함 + 등록과 취소 등의 작업 가능<br>
-help 옵션으로 remote 명령어의 옵션 확인 가능.<br> 
주요 옵션<br>
<pre>
$ git remote = 연결된 원격 저장소의 이름(별칭) 출력
$ git remote ~v = 별칭과 URL 확인 가능
</pre>  
깃은 복수의 원격 저장소를 연결하여 사용, 리모트 저장소가 여러 개일 경우 목록을 전부 출력함. 그러나 저장소의 권한 정보까지는 알 수 없음<br>
<h3>5.3.4 주소와 별칭</h3>
로컬 저장소에 원격 저장소(서버)를 등록하려면 서버 주소가 필요함.<br>
프로토콜 + 도메인 주소의 형태로 되어있음.<br>
폴더 경로를 활용 가능<br>
별칭: 간략하게 긴 서버 URL 문자열을 별칭으로 만들어 사용 가능<br>
*origin: 대표적으로 사용되는 별칭. 그러나 목적에 따라 다른 이름 사용 가능
<h3>5.3.5 원격 저장소에 연결</h3>   
add 옵션 활용
<pre>
$ git remote add 원격저장소별칭 원격저장소URL
</pre>
인자 값으로 원격 저장소 별칭과 URL을 같이 입력해야 함 (별칭은 중복 선택 불가)<br>
원격 저장소가 연결되면 fetch와 push 두 주소를 출력<br>
fetch = 서버에서 가지고 오는 동작<br>
push = 서버로 전송하는 동작
<h3>5.3.6 소스트리에서 원격 브랜치</h3>   
원격 저장소를 등록하면 기존 master 브랜치와 다른 또 하나의 브랜치가 표시됨.(자동 생성)<br>
master - 현재 로컬 저장소<br>
local/master - 별칭/브랜치 = 원격 저장소의 브랜치를 의미함 (로컬 저장소와 서버 저장소를 구분하여 표시함 - 동기화 시점 확인)<br>
<h3>5.3.7 별칭 이름 변경과 정보</h3>
별칭은 긴 문자열의 서버 주소를 대체함.<br>
별칭 관련 옵션<br>
<pre>
$ git remote rename 변경전 변경후 = 별칭 이름을 다시 변경 가능
$ git remote show 원격저장소별칭 = 원격 저장소의 상세한 정보 확인
</pre>
<h3>5.3.8 원격 서버 삭제</h3>    
깃을 사용하다보면 임시 등록된 원격 저장소들도 있는데, rm 옵션으로 삭제 가능<br>
<pre>   
$ git remote rm 원격저장소별칭
</pre>

<h2>5.4 서버 전송</h2>
<h3>5.4.1 push: 서버에 전송</h3>
원격 저장소로 커밋된 파일들을 업로드 하는 동작<br>
<pre>
$ git push 원격저장소별칭 브랜치 이름
</pre>
이를 이용해 자신의 로컬 저장소를 백업하는 용도로도 사용 가능   

<h2>5.5 자동으로 내려받기</h2>
<h3>5.5.1 clone: 복제</h3>
clone 명령어 = 초기화 init 명령어 외에 원격 서버 접속에 필요한 추가 설정을 자동으로 수행함. > 서버와의 연결 설정을 마치고 서버 안의 모든 커밋된 코드 이력들을 한 번에 내려받음<br>
로컬 저장소를 생성한 후 처음으로 서버에서 코드를 내려받을 때는 clone 명령어를 사용하면 편리함<br>
<h3>5.5.2 pull: 서버에서 내려받기</h3>
복제 후 원격 저장소의 갱신된 내용을 추가로 내려받으려면 pull 명령어를 사용해야 함<br>
<pre>
$ git pull
</pre>
로컬 저장소보다 최신인 갱신된 원격 저장소의 커밋 정보를 현재 로컬 저장소로 내려받음.   

<h2>5.6 수동으로 내려받기</h2>
<h3>5.6.1 자동 병합</h3>
pull은 원격 서버에 현재 커밋보다 더 최신인 커밋 정보가 있을 때 내려받음    
내려 받은 커밋 정보는 임시 영역에 저장되고, 원격 저장소를 위한 전용 임시 브랜치가 따로 존재함.<br>
혼자 개발 시에는 pull 명령어 만으로도 편리하게 이용 가능하나 여러 개발자와 협업하는 중에는 pull 명령어가 가끔 자동으로 브랜치 병합을 하지 못함 > fetch 방식 사용<br>
<h3>5.6.2 fetch: 가져오기</h3>
원격 저장소에서 코드를 수동으로 내려받는 작업을 함<br>
내려 받은 후 현재 브랜치와 자동 병합하지 않음.<br>
<pre>
$ git fetch 원격저장소URL
</pre>
*서버/master 형태의 새로운 master 임시 브랜치를 하나 더 생성하는데 임시 브랜치에는 커밋을 할 수 없음

<h3>5.6.3 merge 명령어로 수동 병합</h3>
fetch는 자동으로 병합해주지 않아 merge 명령어로 내려받은 커밋을 로컬 저장소에 적용시키는 병합 명령을 실행해야 함<br>
<pre>
$ git merge 원격저장소별칭/브랜치이름
</pre>

<h2>5.7 순서</h2>
<h3>5.7.1 최신 상태</h3> 
원격 저장소에 push하기 위해서는 자신의 로컬 저장소를 최신 상태로 유지해야함<br>
커밋이 순차적이지 않을 때 깃은 푸시 동작을 거부함 > pull / fetch 작업으로 로컬 저장소 갱신 필요
<h3>5.7.2 충돌 방지</h3>
깃이 최신 상태에서만 푸시를 허용하는 이유는 충돌 방지 떄문임<br>
pull은 내려받은 커밋을 현재 브랜치로 자동 병합하는데, 이때 커밋 내용이 순차적이지 않으면 병합 과정에서 충돌이 발생<br>
깃은 이 충돌을 더 쉽게 해결할 수 있도록 푸시할 때 커밋의 순차적 기록을 확인함.
> push를 사용하기 전에 새로운 커밋 갱신이 없는지 pull 명령어를 사용해 지속적 확인이 필요함<br>
권장 순서<br>
pull > coding > commit > pull > push<br>
*소스트리 사용 시 푸시 이전에 push 버튼 위의 조그마한 숫자로 로컬 / 원격 저장소 사이의 커밋 차이점을 쉽게 확인 가능<br>
*인증 정보 캐시 = 원격 저장소의 접속을 위한 아이디 / 비밀번호를 임시적으로 보관하는 기능 (바로 접속이 가능함)<br>
<pre>
$git config --global credential.helper cache
</pre>
*원격 저장소 원리 = 깃을 원격 저장소에 연결하면 ./git/config 파일 안에 리모트 연결에 대한 설정 정보가 자동으로 추가됨

<h2>5.8 정리</h2>
깃은 코드 이력 관리 뿐 아닌 다른 개발자와의 협업 도구로도 많이 사용함 > 다른 개발자와의 협업을 위해선 공유 매개체의 역할을 수행할 서버가 필요<br>
깃은 다양한 종류의 서버를 지원하는데, 깃 서버를 직접 만들거나 인기 있는 깃 호스팅 서비스를 이용 가능<br>
깃은 서버 역할을 수행하는 원격 저장소와 커밋 정보들을 주고받는데 이러한 원격 저장소 기능을 통해 깃은 오픈 소스를 활성화 하는데 많은 기여를 하는 협업 툴이 되었음<br>
